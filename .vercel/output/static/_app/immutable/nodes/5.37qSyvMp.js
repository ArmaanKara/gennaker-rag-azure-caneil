import{s as fe,z as F,A as pe,H as ye,B as ke,b as I,C as we,f as m,D as re,i as P,n as ae,E as le,e as w,c as x,h as g,t as V,d as z,F as se,l as at,a as $,g as j,j as _,M as lt,K as Le,k as J,o as it,q as Te,L as Ae,T as ot,ag as Ve,u as Se,w as ut,ah as ft,y as ze}from"../chunks/scheduler.nTQPeTYQ.js";import{S as ce,i as me,g as _e,d as D,f as ve,t as T,c as Q,a as W,m as Y,e as Z}from"../chunks/index.CanFk0Lh.js";import{e as ge,u as ct,o as mt}from"../chunks/each.Cm4EqpY4.js";import{i as st}from"../chunks/isHuggingChat.1ozxWy7M.js";import{b as ue,g as Be}from"../chunks/entry.DNyy5_P4.js";import{p as nt}from"../chunks/stores.DJlJkp3c.js";import{A as ht}from"../chunks/add.D-O4JT6R.js";import{C as dt}from"../chunks/close.C1UTSa__.js";import{g as xe,u as gt}from"../chunks/settings.BrXZiVB0.js";function _t(s){let e,t,a='<path fill="currentColor" d="M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2M4 16a11.915 11.915 0 0 1 .7-4H10l5 4l-2.8 3.693A1 1 0 0 0 12.293 21L15 24v3.95A12.01 12.01 0 0 1 4 16m17.435 10.685l2.546-7.7a1 1 0 0 0-.367-.985L15 11l2-2h5.28a1 1 0 0 0 .948-.684l.495-1.486a11.974 11.974 0 0 1-2.288 19.855"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=F(n,r[l]);return{c(){e=pe("svg"),t=new ye(!0),this.h()},l(l){e=ke(l,"svg",{viewBox:!0,width:!0,height:!0});var i=I(e);t=we(i,!0),i.forEach(m),this.h()},h(){t.a=null,re(e,n)},m(l,i){P(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=xe(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&m(e)}}}function vt(s,e,t){return s.$$set=a=>{t(0,e=F(F({},e),le(a)))},e=le(e),[e]}class bt extends ce{constructor(e){super(),me(this,e,vt,_t,fe,{})}}function pt(s){let e,t,a='<path fill="currentColor" d="M30 30h-2v-5a5.006 5.006 0 0 0-5-5v-2a7.008 7.008 0 0 1 7 7zm-8 0h-2v-5a5.006 5.006 0 0 0-5-5H9a5.006 5.006 0 0 0-5 5v5H2v-5a7.008 7.008 0 0 1 7-7h6a7.008 7.008 0 0 1 7 7zM20 2v2a5 5 0 0 1 0 10v2a7 7 0 0 0 0-14m-8 2a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=F(n,r[l]);return{c(){e=pe("svg"),t=new ye(!0),this.h()},l(l){e=ke(l,"svg",{viewBox:!0,width:!0,height:!0});var i=I(e);t=we(i,!0),i.forEach(m),this.h()},h(){t.a=null,re(e,n)},m(l,i){P(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=xe(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&m(e)}}}function yt(s,e,t){return s.$$set=a=>{t(0,e=F(F({},e),le(a)))},e=le(e),[e]}class kt extends ce{constructor(e){super(),me(this,e,yt,pt,fe,{})}}function R(s,e){const t=new URL(s),{newKeys:a,existingKeys:r}=e;if(r){const{behaviour:n,keys:l}=r;if(n==="delete")for(const i of l)t.searchParams.delete(i);else{const i=l;for(const h of[...t.searchParams.keys()])i.includes(h)||t.searchParams.delete(h)}}if(a)for(const[n,l]of Object.entries(a))l?t.searchParams.set(n,l):t.searchParams.delete(n);return t.toString()}function wt(s){let e,t,a='<path fill="currentColor" d="m20 24l-10-8l10-8z"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=F(n,r[l]);return{c(){e=pe("svg"),t=new ye(!0),this.h()},l(l){e=ke(l,"svg",{viewBox:!0,width:!0,height:!0});var i=I(e);t=we(i,!0),i.forEach(m),this.h()},h(){t.a=null,re(e,n)},m(l,i){P(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=xe(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&m(e)}}}function xt(s,e,t){return s.$$set=a=>{t(0,e=F(F({},e),le(a)))},e=le(e),[e]}class It extends ce{constructor(e){super(),me(this,e,xt,wt,fe,{})}}function Et(s){let e,t,a='<path fill="currentColor" d="m12 8l10 8l-10 8z"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=F(n,r[l]);return{c(){e=pe("svg"),t=new ye(!0),this.h()},l(l){e=ke(l,"svg",{viewBox:!0,width:!0,height:!0});var i=I(e);t=we(i,!0),i.forEach(m),this.h()},h(){t.a=null,re(e,n)},m(l,i){P(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=xe(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&m(e)}}}function Pt(s,e,t){return s.$$set=a=>{t(0,e=F(F({},e),le(a)))},e=le(e),[e]}class Ct extends ce{constructor(e){super(),me(this,e,Pt,Et,fe,{})}}function Nt(s){let e,t,a;return t=new Ct({props:{classNames:"ml-1.5"}}),{c(){e=V(`Next\r
		`),Q(t.$$.fragment)},l(r){e=z(r,`Next\r
		`),W(t.$$.fragment,r)},m(r,n){P(r,e,n),Y(t,r,n),a=!0},i(r){a||(T(t.$$.fragment,r),a=!0)},o(r){D(t.$$.fragment,r),a=!1},d(r){r&&m(e),Z(t,r)}}}function Tt(s){let e,t,a;return e=new It({props:{classNames:"mr-1.5"}}),{c(){Q(e.$$.fragment),t=V(`\r
		Previous`)},l(r){W(e.$$.fragment,r),t=z(r,`\r
		Previous`)},m(r,n){Y(e,r,n),P(r,t,n),a=!0},i(r){a||(T(e.$$.fragment,r),a=!0)},o(r){D(e.$$.fragment,r),a=!1},d(r){r&&m(t),Z(e,r)}}}function Bt(s){let e,t,a,r,n;const l=[Tt,Nt],i=[];function h(o,p){return o[1]==="previous"?0:1}return t=h(s),a=i[t]=l[t](s),{c(){e=w("a"),a.c(),this.h()},l(o){e=x(o,"A",{class:!0,href:!0});var p=I(e);a.l(p),p.forEach(m),this.h()},h(){g(e,"class",r="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 "+(s[2]?"pointer-events-none opacity-50":"")),g(e,"href",s[0])},m(o,p){P(o,e,p),i[t].m(e,null),n=!0},p(o,[p]){let c=t;t=h(o),t!==c&&(_e(),D(i[c],1,1,()=>{i[c]=null}),ve(),a=i[t],a||(a=i[t]=l[t](o),a.c()),T(a,1),a.m(e,null)),(!n||p&4&&r!==(r="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 "+(o[2]?"pointer-events-none opacity-50":"")))&&g(e,"class",r),(!n||p&1)&&g(e,"href",o[0])},i(o){n||(T(a),n=!0)},o(o){D(a),n=!1},d(o){o&&m(e),i[t].d()}}}function At(s,e,t){let{href:a}=e,{direction:r}=e,{isDisabled:n=!1}=e;return s.$$set=l=>{"href"in l&&t(0,a=l.href),"direction"in l&&t(1,r=l.direction),"isDisabled"in l&&t(2,n=l.isDisabled)},[a,r,n]}class Oe extends ce{constructor(e){super(),me(this,e,At,Bt,fe,{href:0,direction:1,isDisabled:2})}}function qe(s,e,t){const a=s.slice();return a[10]=e[t],a}function Re(s){let e,t,a,r,n,l,i,h,o,p;r=new Oe({props:{href:R(s[3].url,{newKeys:{p:(s[2]-1).toString()}}),direction:"previous",isDisabled:s[2]-1<0}});let c=ge(s[4]),f=[];for(let u=0;u<c.length;u+=1)f[u]=Xe(qe(s,c,u));return h=new Oe({props:{href:R(s[3].url,{newKeys:{p:(s[2]+1).toString()}}),direction:"next",isDisabled:s[2]+1>=s[1]}}),{c(){e=w("nav"),t=w("ul"),a=w("li"),Q(r.$$.fragment),n=$();for(let u=0;u<f.length;u+=1)f[u].c();l=$(),i=w("li"),Q(h.$$.fragment),this.h()},l(u){e=x(u,"NAV",{});var y=I(e);t=x(y,"UL",{class:!0});var v=I(t);a=x(v,"LI",{});var q=I(a);W(r.$$.fragment,q),q.forEach(m),n=j(v);for(let C=0;C<f.length;C+=1)f[C].l(v);l=j(v),i=x(v,"LI",{});var b=I(i);W(h.$$.fragment,b),b.forEach(m),v.forEach(m),y.forEach(m),this.h()},h(){g(t,"class",o="flex select-none items-center justify-between space-x-2 text-gray-700 sm:justify-center dark:text-gray-300 "+s[0])},m(u,y){P(u,e,y),_(e,t),_(t,a),Y(r,a,null),_(t,n);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(t,null);_(t,l),_(t,i),Y(h,i,null),p=!0},p(u,y){const v={};if(y&12&&(v.href=R(u[3].url,{newKeys:{p:(u[2]-1).toString()}})),y&4&&(v.isDisabled=u[2]-1<0),r.$set(v),y&60){c=ge(u[4]);let b;for(b=0;b<c.length;b+=1){const C=qe(u,c,b);f[b]?f[b].p(C,y):(f[b]=Xe(C),f[b].c(),f[b].m(t,l))}for(;b<f.length;b+=1)f[b].d(1);f.length=c.length}const q={};y&12&&(q.href=R(u[3].url,{newKeys:{p:(u[2]+1).toString()}})),y&6&&(q.isDisabled=u[2]+1>=u[1]),h.$set(q),(!p||y&1&&o!==(o="flex select-none items-center justify-between space-x-2 text-gray-700 sm:justify-center dark:text-gray-300 "+u[0]))&&g(t,"class",o)},i(u){p||(T(r.$$.fragment,u),T(h.$$.fragment,u),p=!0)},o(u){D(r.$$.fragment,u),D(h.$$.fragment,u),p=!1},d(u){u&&m(e),Z(r),lt(f,u),Z(h)}}}function Xe(s){let e,t,a=(s[10]===s[5]?"...":s[10]+1)+"",r,n,l;return{c(){e=w("li"),t=w("a"),r=V(a),this.h()},l(i){e=x(i,"LI",{class:!0});var h=I(e);t=x(h,"A",{class:!0,href:!0});var o=I(t);r=z(o,a),o.forEach(m),h.forEach(m),this.h()},h(){g(t,"class",n="rounded-lg px-2.5 py-1 "+(s[2]===s[10]?"bg-gray-50 font-semibold ring-1 ring-inset ring-gray-200 dark:bg-gray-800 dark:text-yellow-500 dark:ring-gray-700":"")),g(t,"href",l=R(s[3].url,{newKeys:{p:s[10].toString()}})),Le(t,"pointer-events-none",s[10]===s[5]||s[2]===s[10]),g(e,"class","hidden sm:block")},m(i,h){P(i,e,h),_(e,t),_(t,r)},p(i,h){h&16&&a!==(a=(i[10]===i[5]?"...":i[10]+1)+"")&&J(r,a),h&20&&n!==(n="rounded-lg px-2.5 py-1 "+(i[2]===i[10]?"bg-gray-50 font-semibold ring-1 ring-inset ring-gray-200 dark:bg-gray-800 dark:text-yellow-500 dark:ring-gray-700":""))&&g(t,"class",n),h&24&&l!==(l=R(i[3].url,{newKeys:{p:i[10].toString()}}))&&g(t,"href",l),h&52&&Le(t,"pointer-events-none",i[10]===i[5]||i[2]===i[10])},d(i){i&&m(e)}}}function St(s){let e,t,a=s[1]>1&&Re(s);return{c(){a&&a.c(),e=se()},l(r){a&&a.l(r),e=se()},m(r,n){a&&a.m(r,n),P(r,e,n),t=!0},p(r,[n]){r[1]>1?a?(a.p(r,n),n&2&&T(a,1)):(a=Re(r),a.c(),T(a,1),a.m(e.parentNode,e)):a&&(_e(),D(a,1,1,()=>{a=null}),ve())},i(r){t||(T(a),t=!0)},o(r){D(a),t=!1},d(r){r&&m(e),a&&a.d(r)}}}function Dt(s,e,t){let a,r,n,l;at(s,nt,u=>t(3,l=u));var i;let{classNames:h=""}=e,{numItemsPerPage:o}=e,{numTotalItems:p}=e;const c=-1;function f(u,y){let v=[];const C=y-1;v=[u];for(let A=1;A<3;A++){const B=u+A;B>C||v.push(B)}C-v[v.length-1]>1?v.push(c,C):C-v[v.length-1]===1&&v.push(C);for(let A=1;A<3;A++){const B=u-A;B<0||v.unshift(B)}return v[0]-0>1?v.unshift(0,c):v[0]-0===1&&v.unshift(0),v}return s.$$set=u=>{"classNames"in u&&t(0,h=u.classNames),"numItemsPerPage"in u&&t(6,o=u.numItemsPerPage),"numTotalItems"in u&&t(7,p=u.numTotalItems)},s.$$.update=()=>{s.$$.dirty&192&&t(1,a=Math.ceil(p/o)),s.$$.dirty&264&&t(2,r=parseInt(t(8,i=l.url.searchParams.get("p"))!==null&&i!==void 0?i:"0")),s.$$.dirty&6&&t(4,n=f(r,a))},[h,a,r,l,n,c,o,p,i]}class Kt extends ce{constructor(e){super(),me(this,e,Dt,St,fe,{classNames:0,numItemsPerPage:6,numTotalItems:7})}}function Fe(s){const t=[{min:0,max:1,label:"1"},{min:2,max:9,label:"1-10"},{min:10,max:49,label:"10+"},{min:50,max:99,label:"50+"},{min:100,max:299,label:"100+"},{min:300,max:499,label:"300+"},{min:500,max:999,label:"500+"},{min:1e3,max:2999,label:"1k+"},{min:3e3,max:4999,label:"3k+"},{min:5e3,max:9999,label:"5k+"},{min:1e4,max:1/0,label:"10k+"}].find(({min:a,max:r})=>s>=a&&s<=r);return(t==null?void 0:t.label)??""}function Ge(s,e,t){const a=s.slice();return a[9]=e[t],a}function Je(s,e,t){const a=s.slice();return a[12]=e[t],a}function Qe(s){let e,t=s[12].name+"",a,r;return{c(){e=w("option"),a=V(t),this.h()},l(n){e=x(n,"OPTION",{});var l=I(e);a=z(l,t),l.forEach(m),this.h()},h(){e.__value=r=s[12].name,Ae(e,e.__value)},m(n,l){P(n,e,l),_(e,a)},p(n,l){l&1&&t!==(t=n[12].name+"")&&J(a,t),l&1&&r!==(r=n[12].name)&&(e.__value=r,Ae(e,e.__value))},d(n){n&&m(e)}}}function Mt(s){var p;let e,t,a,r,n,l,i,h;t=new bt({props:{class:"text-xs"}});let o=((p=s[0].user)==null?void 0:p.username)&&We(s);return{c(){e=w("a"),Q(t.$$.fragment),a=V(`\r
					Community`),l=$(),o&&o.c(),i=se(),this.h()},l(c){e=x(c,"A",{href:!0,class:!0});var f=I(e);W(t.$$.fragment,f),a=z(f,`\r
					Community`),f.forEach(m),l=j(c),o&&o.l(c),i=se(),this.h()},h(){g(e,"href",r=R(s[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})),g(e,"class",n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(s[1]?"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300":"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white"))},m(c,f){P(c,e,f),Y(t,e,null),_(e,a),P(c,l,f),o&&o.m(c,f),P(c,i,f),h=!0},p(c,f){var u;(!h||f&4&&r!==(r=R(c[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})))&&g(e,"href",r),(!h||f&2&&n!==(n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(c[1]?"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300":"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white")))&&g(e,"class",n),(u=c[0].user)!=null&&u.username?o?o.p(c,f):(o=We(c),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i(c){h||(T(t.$$.fragment,c),h=!0)},o(c){D(t.$$.fragment,c),h=!1},d(c){c&&(m(e),m(l),m(i)),Z(t),o&&o.d(c)}}}function $t(s){let e,t,a,r,n,l,i,h,o;n=new dt({props:{class:"text-xs group-hover:text-gray-800 dark:group-hover:text-gray-300"}});let p=st;return{c(){e=w("div"),t=V(s[1]),a=V(`'s Assistants\r
					`),r=w("a"),Q(n.$$.fragment),i=$(),h=se(),this.h()},l(c){e=x(c,"DIV",{class:!0});var f=I(e);t=z(f,s[1]),a=z(f,`'s Assistants\r
					`),r=x(f,"A",{href:!0,class:!0});var u=I(r);W(n.$$.fragment,u),u.forEach(m),f.forEach(m),i=j(c),h=se(),this.h()},h(){g(r,"href",l=R(s[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})),g(r,"class","group"),g(e,"class","flex items-center gap-1.5 rounded-full border border-gray-300 bg-gray-50 px-3 py-1 dark:border-gray-600 dark:bg-gray-700 dark:text-white")},m(c,f){P(c,e,f),_(e,t),_(e,a),_(e,r),Y(n,r,null),P(c,i,f),P(c,h,f),o=!0},p(c,f){(!o||f&2)&&J(t,c[1]),(!o||f&4&&l!==(l=R(c[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})))&&g(r,"href",l)},i(c){o||(T(n.$$.fragment,c),T(p),o=!0)},o(c){D(n.$$.fragment,c),D(p),o=!1},d(c){c&&(m(e),m(i),m(h)),Z(n)}}}function We(s){let e,t=s[0].user.username+"",a,r,n;return{c(){e=w("a"),a=V(t),this.h()},l(l){e=x(l,"A",{href:!0,class:!0});var i=I(e);a=z(i,t),i.forEach(m),this.h()},h(){g(e,"href",r=R(s[2].url,{newKeys:{user:s[0].user.username},existingKeys:{behaviour:"delete",keys:["modelId","p"]}})),g(e,"class",n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(s[1]&&s[3]?"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white":"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300"))},m(l,i){P(l,e,i),_(e,a)},p(l,i){i&1&&t!==(t=l[0].user.username+"")&&J(a,t),i&5&&r!==(r=R(l[2].url,{newKeys:{user:l[0].user.username},existingKeys:{behaviour:"delete",keys:["modelId","p"]}}))&&g(e,"href",r),i&10&&n!==(n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(l[1]&&l[3]?"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white":"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300"))&&g(e,"class",n)},d(l){l&&m(e)}}}function Ye(s){let e;return{c(){e=V("No assistants found")},l(t){e=z(t,"No assistants found")},m(t,a){P(t,e,a)},d(t){t&&m(e)}}}function Ze(s){let e,t,a=Fe(s[9].userCount)+"",r,n;return t=new kt({props:{class:"text-xxs"}}),{c(){e=w("div"),Q(t.$$.fragment),r=V(a),this.h()},l(l){e=x(l,"DIV",{class:!0,title:!0});var i=I(e);W(t.$$.fragment,i),r=z(i,a),i.forEach(m),this.h()},h(){g(e,"class","absolute right-3 top-3 flex items-center gap-1 text-xs text-gray-400"),g(e,"title","Number of users")},m(l,i){P(l,e,i),Y(t,e,null),_(e,r),n=!0},p(l,i){(!n||i&1)&&a!==(a=Fe(l[9].userCount)+"")&&J(r,a)},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){l&&m(e),Z(t)}}}function jt(s){let e,t=s[9].name[0]+"",a;return{c(){e=w("div"),a=V(t),this.h()},l(r){e=x(r,"DIV",{class:!0});var n=I(e);a=z(n,t),n.forEach(m),this.h()},h(){g(e,"class","mb-2 flex aspect-square size-12 flex-none items-center justify-center rounded-full bg-gray-300 text-2xl font-bold uppercase text-gray-500 sm:mb-6 sm:size-20 dark:bg-gray-800")},m(r,n){P(r,e,n),_(e,a)},p(r,n){n&1&&t!==(t=r[9].name[0]+"")&&J(a,t)},d(r){r&&m(e)}}}function Ut(s){let e,t;return{c(){e=w("img"),this.h()},l(a){e=x(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=ue+"/settings/assistants/"+s[9]._id+"/avatar.jpg")||g(e,"src",t),g(e,"alt","Avatar"),g(e,"class","mb-2 aspect-square size-12 flex-none rounded-full object-cover sm:mb-6 sm:size-20")},m(a,r){P(a,e,r)},p(a,r){r&1&&!ze(e.src,t=ue+"/settings/assistants/"+a[9]._id+"/avatar.jpg")&&g(e,"src",t)},d(a){a&&m(e)}}}function et(s){let e,t,a,r=s[9].createdByName+"",n,l;return{c(){e=w("p"),t=V("Created by "),a=w("a"),n=V(r),this.h()},l(i){e=x(i,"P",{class:!0});var h=I(e);t=z(h,"Created by "),a=x(h,"A",{class:!0,href:!0});var o=I(a);n=z(o,r),o.forEach(m),h.forEach(m),this.h()},h(){g(a,"class","hover:underline"),g(a,"href",l=ue+"/assistants?user="+s[9].createdByName),g(e,"class","mt-auto pt-2 text-xs text-gray-400 dark:text-gray-500")},m(i,h){P(i,e,h),_(e,t),_(e,a),_(a,n)},p(i,h){h&1&&r!==(r=i[9].createdByName+"")&&J(n,r),h&1&&l!==(l=ue+"/assistants?user="+i[9].createdByName)&&g(a,"href",l)},d(i){i&&m(e)}}}function tt(s,e){let t,a,r,n,l=e[9].name+"",i,h,o,p=e[9].description+"",c,f,u,y,v,q,b=e[9].userCount&&e[9].userCount>1&&Ze(e);function C(N,k){return N[9].avatar?Ut:jt}let A=C(e),B=A(e),S=e[9].createdByName&&et(e);function G(){return e[8](e[9])}return{key:s,first:null,c(){t=w("button"),b&&b.c(),a=$(),B.c(),r=$(),n=w("h3"),i=V(l),h=$(),o=w("p"),c=V(p),f=$(),S&&S.c(),u=$(),this.h()},l(N){t=x(N,"BUTTON",{class:!0});var k=I(t);b&&b.l(k),a=j(k),B.l(k),r=j(k),n=x(k,"H3",{class:!0});var he=I(n);i=z(he,l),he.forEach(m),h=j(k),o=x(k,"P",{class:!0});var X=I(o);c=z(X,p),X.forEach(m),f=j(k),S&&S.l(k),u=j(k),k.forEach(m),this.h()},h(){g(n,"class","mb-2 line-clamp-2 max-w-full break-words text-center text-[.8rem] font-semibold leading-snug sm:text-sm"),g(o,"class","line-clamp-4 text-xs text-gray-700 sm:line-clamp-2 dark:text-gray-400"),g(t,"class","relative flex flex-col items-center justify-center overflow-hidden text-balance rounded-xl border bg-gray-50/50 px-4 py-6 text-center shadow hover:bg-gray-50 hover:shadow-inner max-sm:px-4 sm:h-64 sm:pb-4 xl:pt-8 dark:border-gray-800/70 dark:bg-gray-950/20 dark:hover:bg-gray-950/40"),this.first=t},m(N,k){P(N,t,k),b&&b.m(t,null),_(t,a),B.m(t,null),_(t,r),_(t,n),_(n,i),_(t,h),_(t,o),_(o,c),_(t,f),S&&S.m(t,null),_(t,u),y=!0,v||(q=Se(t,"click",G),v=!0)},p(N,k){e=N,e[9].userCount&&e[9].userCount>1?b?(b.p(e,k),k&1&&T(b,1)):(b=Ze(e),b.c(),T(b,1),b.m(t,a)):b&&(_e(),D(b,1,1,()=>{b=null}),ve()),A===(A=C(e))&&B?B.p(e,k):(B.d(1),B=A(e),B&&(B.c(),B.m(t,r))),(!y||k&1)&&l!==(l=e[9].name+"")&&J(i,l),(!y||k&1)&&p!==(p=e[9].description+"")&&J(c,p),e[9].createdByName?S?S.p(e,k):(S=et(e),S.c(),S.m(t,u)):S&&(S.d(1),S=null)},i(N){y||(T(b),y=!0)},o(N){D(b),y=!1},d(N){N&&m(t),b&&b.d(),B.d(),S&&S.d(),v=!1,q()}}}function Ht(s){let e,t,a,r,n,l,i="Assistants",h,o,p,c="Popular assistants made by the community",f,u,y,v,q="All models",b,C,A,B,S,G,N,k,he,X,O=[],De=new Map,Ie,ee,be,Ee,Ke,Me=st,de=ge(s[0].models.filter(rt)),M=[];for(let d=0;d<de.length;d+=1)M[d]=Qe(Je(s,de,d));A=new ht({});const $e=[$t,Mt],te=[];function je(d,E){return d[1]&&!d[3]?0:1}N=je(s),k=te[N]=$e[N](s);let ne=ge(s[0].assistants);const Ue=d=>d[9]._id;for(let d=0;d<ne.length;d+=1){let E=Ge(s,ne,d),K=Ue(E);De.set(K,O[d]=tt(K,E))}let U=null;return ne.length||(U=Ye()),ee=new Kt({props:{classNames:"w-full flex justify-center mt-14 mb-4",numItemsPerPage:s[0].numItemsPerPage,numTotalItems:s[0].numTotalItems}}),{c(){e=se(),t=$(),a=w("div"),r=w("div"),n=w("div"),l=w("h1"),l.textContent=i,h=$(),o=$(),p=w("h3"),p.textContent=c,f=$(),u=w("div"),y=w("select"),v=w("option"),v.textContent=q;for(let d=0;d<M.length;d+=1)M[d].c();b=$(),C=w("a"),Q(A.$$.fragment),B=V("Create New assistant"),S=$(),G=w("div"),k.c(),he=$(),X=w("div");for(let d=0;d<O.length;d+=1)O[d].c();U&&U.c(),Ie=$(),Q(ee.$$.fragment),this.h()},l(d){const E=it("svelte-10l5qpo",document.head);e=se(),E.forEach(m),t=j(d),a=x(d,"DIV",{class:!0});var K=I(a);r=x(K,"DIV",{class:!0});var H=I(r);n=x(H,"DIV",{class:!0});var L=I(n);l=x(L,"H1",{class:!0,"data-svelte-h":!0}),Te(l)!=="svelte-648qij"&&(l.textContent=i),h=j(L),L.forEach(m),o=j(H),p=x(H,"H3",{class:!0,"data-svelte-h":!0}),Te(p)!=="svelte-1wb8a6q"&&(p.textContent=c),f=j(H),u=x(H,"DIV",{class:!0});var ie=I(u);y=x(ie,"SELECT",{class:!0});var Pe=I(y);v=x(Pe,"OPTION",{"data-svelte-h":!0}),Te(v)!=="svelte-s2c3t7"&&(v.textContent=q);for(let oe=0;oe<M.length;oe+=1)M[oe].l(Pe);Pe.forEach(m),b=j(ie),C=x(ie,"A",{href:!0,class:!0});var Ce=I(C);W(A.$$.fragment,Ce),B=z(Ce,"Create New assistant"),Ce.forEach(m),ie.forEach(m),S=j(H),G=x(H,"DIV",{class:!0});var He=I(G);k.l(He),He.forEach(m),he=j(H),X=x(H,"DIV",{class:!0});var Ne=I(X);for(let oe=0;oe<O.length;oe+=1)O[oe].l(Ne);U&&U.l(Ne),Ne.forEach(m),Ie=j(H),W(ee.$$.fragment,H),H.forEach(m),K.forEach(m),this.h()},h(){g(l,"class","text-2xl font-bold"),g(n,"class","flex items-center"),g(p,"class","text-gray-500"),v.__value="",Ae(v,v.__value),g(y,"class","mt-1 h-[34px] rounded-lg border border-gray-300 bg-gray-50 px-2 text-sm text-gray-900 focus:border-blue-700 focus:ring-blue-700 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"),s[0].selectedModel===void 0&&ot(()=>s[7].call(y)),g(C,"href",`${ue}/settings/assistants/new`),g(C,"class","flex items-center gap-1 whitespace-nowrap rounded-lg border bg-white py-1 pl-1.5 pr-2.5 shadow-sm hover:bg-gray-50 hover:shadow-none dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-700"),g(u,"class","mt-6 flex justify-between gap-2 max-sm:flex-col sm:items-center"),g(G,"class","mt-7 flex items-center gap-x-2 text-sm"),g(X,"class","mt-8 grid grid-cols-2 gap-3 sm:gap-5 md:grid-cols-3 lg:grid-cols-4"),g(r,"class","pt-42 mx-auto flex flex-col px-5 xl:w-[60rem] 2xl:w-[64rem]"),g(a,"class","scrollbar-custom mr-1 h-full overflow-y-auto py-12 max-sm:pt-8 md:py-24")},m(d,E){_(document.head,e),P(d,t,E),P(d,a,E),_(a,r),_(r,n),_(n,l),_(n,h),_(r,o),_(r,p),_(r,f),_(r,u),_(u,y),_(y,v);for(let K=0;K<M.length;K+=1)M[K]&&M[K].m(y,null);Ve(y,s[0].selectedModel,!0),_(u,b),_(u,C),Y(A,C,null),_(C,B),_(r,S),_(r,G),te[N].m(G,null),_(r,he),_(r,X);for(let K=0;K<O.length;K+=1)O[K]&&O[K].m(X,null);U&&U.m(X,null),_(r,Ie),Y(ee,r,null),be=!0,Ee||(Ke=[Se(y,"change",s[7]),Se(y,"change",s[4])],Ee=!0)},p(d,[E]){if(E&1){de=ge(d[0].models.filter(rt));let L;for(L=0;L<de.length;L+=1){const ie=Je(d,de,L);M[L]?M[L].p(ie,E):(M[L]=Qe(ie),M[L].c(),M[L].m(y,null))}for(;L<M.length;L+=1)M[L].d(1);M.length=de.length}E&1&&Ve(y,d[0].selectedModel);let K=N;N=je(d),N===K?te[N].p(d,E):(_e(),D(te[K],1,1,()=>{te[K]=null}),ve(),k=te[N],k?k.p(d,E):(k=te[N]=$e[N](d),k.c()),T(k,1),k.m(G,null)),E&33&&(ne=ge(d[0].assistants),_e(),O=ct(O,E,Ue,1,d,ne,De,X,mt,tt,null,Ge),ve(),ne.length?U&&(U.d(1),U=null):U||(U=Ye(),U.c(),U.m(X,null)));const H={};E&1&&(H.numItemsPerPage=d[0].numItemsPerPage),E&1&&(H.numTotalItems=d[0].numTotalItems),ee.$set(H)},i(d){if(!be){T(Me),T(A.$$.fragment,d),T(k);for(let E=0;E<ne.length;E+=1)T(O[E]);T(ee.$$.fragment,d),be=!0}},o(d){D(Me),D(A.$$.fragment,d),D(k);for(let E=0;E<O.length;E+=1)D(O[E]);D(ee.$$.fragment,d),be=!1},d(d){d&&(m(t),m(a)),m(e),lt(M,d),Z(A),te[N].d();for(let E=0;E<O.length;E+=1)O[E].d();U&&U.d(),Z(ee),Ee=!1,ut(Ke)}}}const rt=s=>!s.unlisted;function Lt(s,e,t){let a,r,n;at(s,nt,f=>t(2,n=f));var l;let{data:i}=e;const h=f=>{const u=R(n.url,{newKeys:{modelId:f.target.value},existingKeys:{behaviour:"delete_except",keys:["user"]}});Be(u)},o=gt();function p(){i.selectedModel=ft(this),t(0,i)}const c=f=>{i.settings.assistants.includes(f._id.toString())?(o.instantSet({activeModel:f._id.toString()}),Be(`${ue}`||"/")):Be(`${ue}/assistant/${f._id}`)};return s.$$set=f=>{"data"in f&&t(0,i=f.data)},s.$$.update=()=>{s.$$.dirty&4&&t(1,a=n.url.searchParams.get("user")),s.$$.dirty&67&&t(3,r=(t(6,l=i.user)===null||l===void 0?void 0:l.username)&&i.user.username===a)},[i,a,n,r,h,o,l,p,c]}class Qt extends ce{constructor(e){super(),me(this,e,Lt,Ht,fe,{data:0})}}export{Qt as component};
