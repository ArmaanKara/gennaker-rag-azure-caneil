import{b as le}from"../chunks/entry.DNyy5_P4.js";import{r as ke}from"../chunks/index.De_1-CT6.js";import{s as Ee,e as $,t as O,a as T,c as w,b as E,d as j,f as g,g as M,q as be,h as f,i as L,j as u,L as de,u as se,J as $e,k as oe,w as Ue,l as ce,x as te,n as we}from"../chunks/scheduler.nTQPeTYQ.js";import{S as ye,i as Ae,c as R,a as J,m as X,t as k,d as y,f as re,e as F,g as ae}from"../chunks/index.CanFk0Lh.js";import{p as Ce}from"../chunks/stores.DJlJkp3c.js";import{u as Pe}from"../chunks/settings.BrXZiVB0.js";import{C as De}from"../chunks/CopyToClipBoardBtn.DpK4ADhg.js";import{A as ne}from"../chunks/arrow-up-right.C_JXeBtv.js";import{L as Te}from"../chunks/link.D1T_KCa_.js";async function Me({parent:l,params:e}){const r=await l(),n=r.models.find(({id:o})=>o===e.model);if(!n||n.unlisted)throw ke(302,`${le}/settings`);return r}const Je=Object.freeze(Object.defineProperty({__proto__:null,load:Me},Symbol.toStringTag,{value:"Module"}));function pe(l){let e,r=l[2].description+"",n;return{c(){e=$("p"),n=O(r),this.h()},l(o){e=w(o,"P",{class:!0});var a=E(e);n=j(a,r),a.forEach(g),this.h()},h(){f(e,"class","whitespace-pre-wrap text-gray-600")},m(o,a){L(o,e,a),u(e,n)},p(o,a){a&4&&r!==(r=o[2].description+"")&&oe(n,r)},d(o){o&&g(e)}}}function he(l){let e,r,n,o,a;return r=new ne({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=$("a"),R(r.$$.fragment),n=O(`\r
				Model page`),this.h()},l(t){e=w(t,"A",{href:!0,target:!0,rel:!0,class:!0});var s=E(e);J(r.$$.fragment,s),n=j(s,`\r
				Model page`),s.forEach(g),this.h()},h(){f(e,"href",o=l[2].modelUrl||"https://huggingface.co/"+l[2].name),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","flex items-center truncate underline underline-offset-2")},m(t,s){L(t,e,s),X(r,e,null),u(e,n),a=!0},p(t,s){(!a||s&4&&o!==(o=t[2].modelUrl||"https://huggingface.co/"+t[2].name))&&f(e,"href",o)},i(t){a||(k(r.$$.fragment,t),a=!0)},o(t){y(r.$$.fragment,t),a=!1},d(t){t&&g(e),F(r)}}}function _e(l){let e,r,n,o,a;return r=new ne({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=$("a"),R(r.$$.fragment),n=O(`\r
				Dataset page`),this.h()},l(t){e=w(t,"A",{href:!0,target:!0,rel:!0,class:!0});var s=E(e);J(r.$$.fragment,s),n=j(s,`\r
				Dataset page`),s.forEach(g),this.h()},h(){f(e,"href",o=l[2].datasetUrl||"https://huggingface.co/datasets/"+l[2].datasetName),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","flex items-center truncate underline underline-offset-2")},m(t,s){L(t,e,s),X(r,e,null),u(e,n),a=!0},p(t,s){(!a||s&4&&o!==(o=t[2].datasetUrl||"https://huggingface.co/datasets/"+t[2].datasetName))&&f(e,"href",o)},i(t){a||(k(r.$$.fragment,t),a=!0)},o(t){y(r.$$.fragment,t),a=!1},d(t){t&&g(e),F(r)}}}function ge(l){let e,r,n,o,a;return r=new ne({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=$("a"),R(r.$$.fragment),n=O(`\r
				Model website`),this.h()},l(t){e=w(t,"A",{href:!0,target:!0,class:!0,rel:!0});var s=E(e);J(r.$$.fragment,s),n=j(s,`\r
				Model website`),s.forEach(g),this.h()},h(){f(e,"href",o=l[2].websiteUrl),f(e,"target","_blank"),f(e,"class","flex items-center truncate underline underline-offset-2"),f(e,"rel","noreferrer")},m(t,s){L(t,e,s),X(r,e,null),u(e,n),a=!0},p(t,s){(!a||s&4&&o!==(o=t[2].websiteUrl))&&f(e,"href",o)},i(t){a||(k(r.$$.fragment,t),a=!0)},o(t){y(r.$$.fragment,t),a=!1},d(t){t&&g(e),F(r)}}}function Ne(l){let e,r,n,o;return r=new Te({}),{c(){e=$("div"),R(r.$$.fragment),n=O("Copy direct link to model"),this.h()},l(a){e=w(a,"DIV",{class:!0});var t=E(e);J(r.$$.fragment,t),n=j(t,"Copy direct link to model"),t.forEach(g),this.h()},h(){f(e,"class","flex items-center gap-1.5 hover:underline")},m(a,t){L(a,e,t),X(r,e,null),u(e,n),o=!0},p:we,i(a){o||(k(r.$$.fragment,a),o=!0)},o(a){y(r.$$.fragment,a),o=!1},d(a){a&&g(e),F(r)}}}function ve(l){let e,r="Reset",n,o;return{c(){e=$("button"),e.textContent=r,this.h()},l(a){e=w(a,"BUTTON",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-1ehlk8p"&&(e.textContent=r),this.h()},h(){f(e,"class","ml-auto underline decoration-gray-300 hover:decoration-gray-700")},m(a,t){L(a,e,t),n||(o=se(e,"click",$e(l[9])),n=!0)},p:we,d(a){a&&g(e),n=!1,o()}}}function Se(l){let e,r,n,o=l[0].params.model+"",a,t,s,c,C,U,q,A,z,d,H=l[3]?"Active model":"Activate",G,K,Y,N,P,B,ie="System Prompt",Z,x,D,S,ee,fe,v=l[2].description&&pe(l),p=l[2].modelUrl&&he(l),h=(l[2].datasetName||l[2].datasetUrl)&&_e(l),_=l[2].websiteUrl&&ge(l);A=new De({props:{value:l[0].url.origin+le+"?model="+l[2].id,classNames:"!border-none !shadow-none !py-0 !px-1 !rounded-md",$$slots:{default:[Ne]},$$scope:{ctx:l}}});let b=l[4]&&ve(l);return{c(){e=$("div"),r=$("div"),n=$("h2"),a=O(o),t=T(),v&&v.c(),s=T(),c=$("div"),p&&p.c(),C=T(),h&&h.c(),U=T(),_&&_.c(),q=T(),R(A.$$.fragment),z=T(),d=$("button"),G=O(H),Y=T(),N=$("div"),P=$("div"),B=$("h3"),B.textContent=ie,Z=T(),b&&b.c(),x=T(),D=$("textarea"),this.h()},l(i){e=w(i,"DIV",{class:!0});var m=E(e);r=w(m,"DIV",{class:!0});var I=E(r);n=w(I,"H2",{class:!0});var me=E(n);a=j(me,o),me.forEach(g),t=M(I),v&&v.l(I),I.forEach(g),s=M(m),c=w(m,"DIV",{class:!0});var V=E(c);p&&p.l(V),C=M(V),h&&h.l(V),U=M(V),_&&_.l(V),q=M(V),J(A.$$.fragment,V),V.forEach(g),z=M(m),d=w(m,"BUTTON",{class:!0,name:!0});var ue=E(d);G=j(ue,H),ue.forEach(g),Y=M(m),N=w(m,"DIV",{class:!0});var Q=E(N);P=w(Q,"DIV",{class:!0});var W=E(P);B=w(W,"H3",{class:!0,"data-svelte-h":!0}),be(B)!=="svelte-164tosc"&&(B.textContent=ie),Z=M(W),b&&b.l(W),W.forEach(g),x=M(Q),D=w(Q,"TEXTAREA",{rows:!0,class:!0}),E(D).forEach(g),Q.forEach(g),m.forEach(g),this.h()},h(){f(n,"class","text-lg font-semibold md:text-xl"),f(r,"class","mb-5 flex flex-col gap-1.5"),f(c,"class","flex flex-wrap items-center gap-2 md:gap-4"),f(d,"class",K=(l[3]?"bg-gray-100":"bg-black text-white")+" my-8 flex items-center rounded-full px-3 py-1"),d.disabled=l[3],f(d,"name","Activate model"),f(B,"class","mb-1.5 text-lg font-semibold text-gray-800"),f(P,"class","flex w-full flex-row content-between"),f(D,"rows","10"),f(D,"class","w-full resize-none rounded-md border-2 bg-gray-100 p-2"),f(N,"class","flex w-full flex-col gap-2"),f(e,"class","flex flex-col items-start")},m(i,m){L(i,e,m),u(e,r),u(r,n),u(n,a),u(r,t),v&&v.m(r,null),u(e,s),u(e,c),p&&p.m(c,null),u(c,C),h&&h.m(c,null),u(c,U),_&&_.m(c,null),u(c,q),X(A,c,null),u(e,z),u(e,d),u(d,G),u(e,Y),u(e,N),u(N,P),u(P,B),u(P,Z),b&&b.m(P,null),u(N,x),u(N,D),de(D,l[1].customPrompts[l[0].params.model]),S=!0,ee||(fe=[se(d,"click",$e(l[8])),se(D,"input",l[10])],ee=!0)},p(i,[m]){(!S||m&1)&&o!==(o=i[0].params.model+"")&&oe(a,o),i[2].description?v?v.p(i,m):(v=pe(i),v.c(),v.m(r,null)):v&&(v.d(1),v=null),i[2].modelUrl?p?(p.p(i,m),m&4&&k(p,1)):(p=he(i),p.c(),k(p,1),p.m(c,C)):p&&(ae(),y(p,1,1,()=>{p=null}),re()),i[2].datasetName||i[2].datasetUrl?h?(h.p(i,m),m&4&&k(h,1)):(h=_e(i),h.c(),k(h,1),h.m(c,U)):h&&(ae(),y(h,1,1,()=>{h=null}),re()),i[2].websiteUrl?_?(_.p(i,m),m&4&&k(_,1)):(_=ge(i),_.c(),k(_,1),_.m(c,q)):_&&(ae(),y(_,1,1,()=>{_=null}),re());const I={};m&5&&(I.value=i[0].url.origin+le+"?model="+i[2].id),m&2048&&(I.$$scope={dirty:m,ctx:i}),A.$set(I),(!S||m&8)&&H!==(H=i[3]?"Active model":"Activate")&&oe(G,H),(!S||m&8&&K!==(K=(i[3]?"bg-gray-100":"bg-black text-white")+" my-8 flex items-center rounded-full px-3 py-1"))&&f(d,"class",K),(!S||m&8)&&(d.disabled=i[3]),i[4]?b?b.p(i,m):(b=ve(i),b.c(),b.m(P,null)):b&&(b.d(1),b=null),m&3&&de(D,i[1].customPrompts[i[0].params.model])},i(i){S||(k(p),k(h),k(_),k(A.$$.fragment,i),S=!0)},o(i){y(p),y(h),y(_),y(A.$$.fragment,i),S=!1},d(i){i&&g(e),v&&v.d(),p&&p.d(),h&&h.d(),_&&_.d(),F(A),b&&b.d(),ee=!1,Ue(fe)}}}function Ie(l,e,r){let n,o,a,t,s;ce(l,Ce,d=>r(0,t=d));var c,C;const U=Pe();ce(l,U,d=>r(1,s=d));const q=()=>{te(U,s.activeModel=t.params.model,s)},A=()=>te(U,s.customPrompts[t.params.model]=a.preprompt,s);function z(){s.customPrompts[t.params.model]=this.value,U.set(s)}return l.$$.update=()=>{l.$$.dirty&67&&s.customPrompts[t.params.model]===void 0&&te(U,s.customPrompts={...s.customPrompts,[t.params.model]:(r(6,c=t.data.models.find(d=>d.id===t.params.model))===null||c===void 0?void 0:c.preprompt)||""},s),l.$$.dirty&131&&r(4,n=s.customPrompts[t.params.model]!==(r(7,C=t.data.models.find(d=>d.id===t.params.model))===null||C===void 0?void 0:C.preprompt)),l.$$.dirty&3&&r(3,o=s.activeModel===t.params.model),l.$$.dirty&1&&r(2,a=t.data.models.find(d=>d.id===t.params.model))},[t,s,a,o,n,U,c,C,q,A,z]}class Xe extends ye{constructor(e){super(),Ae(this,e,Ie,Se,Ee,{})}}export{Xe as component,Je as universal};
